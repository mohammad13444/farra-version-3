<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup Validation - Farra</title>
    <link rel="stylesheet" href="./css/tokens.css">
    <link rel="stylesheet" href="./css/signup.css">
</head>

<body>
    <div class="signup-container">
        <!-- Status Bar -->
        <!-- <div class="status-bar">


        </div> -->
        <br>
        <br>
        <div style="display: inline-flex;
padding: 8px;
align-items: center;
gap: 10px;">
            <svg style="width: 24px;
height: 24px;
flex-shrink: 0; stroke-width: 1.5px;
stroke: var(--Icon-Primary-Default, #706DF2);" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                viewBox="0 0 20 20" fill="none">
                <path
                    d="M9.9732 1C11.2857 5.31246 14.6605 8.6874 18.9728 10C14.6605 11.3126 11.2857 14.6875 9.9732 19C8.6607 14.6875 5.28588 11.3126 0.973633 10C5.28588 8.6874 8.6607 5.31246 9.9732 1Z"
                    stroke="#706DF2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>

        </div>

        <br>
        <!-- ğŸš¨ Ø¨Ø§Ú©Ø³ Ø®Ø·Ø§ (Ù…Ø®ÙÛŒ Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶) -->
        <div class="error-alert" id="errorAlert">
            <svg style="margin-top: 3.50%;" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 24 24" fill="none">
                <path
                    d="M11.9732 3C13.2857 7.31246 16.6605 10.6874 20.9728 12C16.6605 13.3126 13.2857 16.6875 11.9732 21C10.6607 16.6875 7.28588 13.3126 2.97363 12C7.28588 10.6874 10.6607 7.31246 11.9732 3Z"
                    stroke="#FF595B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <div class="error-content">
                <div class="error-title">Wrong number?</div>
                <div class="error-message">Please double check and try again</div>
            </div>
        </div>


        <!-- Header -->
        <div class="header-section">
            <h1 class="title">Hello!</h1>
            <p class="description">5 I am happy to have you in Farra.Where you can make best memories. </p>
            <p class="description">
                You must make an account here, then Enter your phone number to proceed.
            </p>
        </div>

        <!-- Input Field -->
        <div class="input-group">
            <div class="input-wrapper">
                <input type="tel" class="input-field" placeholder="Mobile Phone" id="mobilePhone"
                    oninput="validatePhone()">
                <div class="input-icon">
                    <div class="">
                        <svg class="default-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            viewBox="0 0 20 20" fill="none">
                            <path
                                d="M9.9732 1C11.2857 5.31246 14.6605 8.6874 18.9728 10C14.6605 11.3126 11.2857 14.6875 9.9732 19C8.6607 14.6875 5.28588 11.3126 0.973633 10C5.28588 8.6874 8.6607 5.31246 9.9732 1Z"
                                stroke="#A9A7F7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>

                        <svg class="focose" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            viewBox="0 0 20 20" fill="none">
                            <path
                                d="M9.9732 1C11.2857 5.31246 14.6605 8.6874 18.9728 10C14.6605 11.3126 11.2857 14.6875 9.9732 19C8.6607 14.6875 5.28588 11.3126 0.973633 10C5.28588 8.6874 8.6607 5.31246 9.9732 1Z"
                                stroke="#706DF2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>

                        <svg class="alert" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"
                            fill="none">
                            <path
                                d="M9.9732 1C11.2857 5.31246 14.6605 8.6874 18.9728 10C14.6605 11.3126 11.2857 14.6875 9.9732 19C8.6607 14.6875 5.28588 11.3126 0.973633 10C5.28588 8.6874 8.6607 5.31246 9.9732 1Z"
                                stroke="#FF595B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>

                        <svg class="success" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                            viewBox="0 0 20 20" fill="none">
                            <path
                                d="M9.9732 1C11.2857 5.31246 14.6605 8.6874 18.9728 10C14.6605 11.3126 11.2857 14.6875 9.9732 19C8.6607 14.6875 5.28588 11.3126 0.973633 10C5.28588 8.6874 8.6607 5.31246 9.9732 1Z"
                                stroke="#44CD54" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>

                    </div>
                </div>
            </div>
        </div>

        <!-- Ø¯Ú©Ù…Ù‡ Signup -->
        <button class="signup-button" onclick="handleSignup()">Signup</button>

        <!-- Ø®Ø· Ø¬Ø¯Ø§Ú©Ù†Ù†Ø¯Ù‡ -->
        <div class="divider-section">
            <svg xmlns="http://www.w3.org/2000/svg" width="62" height="2" viewBox="0 0 62 2" fill="none">
                <path opacity="0.5" d="M61.0695 1.00001L0.214355 1" stroke="#706DF2" />
            </svg>
            <h6 class="divider-text">Or continue with</h6>
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="2" viewBox="0 0 60 2" fill="none">
                <path opacity="0.5" d="M59.2143 1.00001L0.930542 1" stroke="#706DF2" />
            </svg>
        </div>

        <!-- Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ -->
        <div class="social-icons">
            <div class="social-icon" onclick="handleSocialLogin('google')">
                <div class="">
                    <img class="img2" src="./img/8.png" width="50px" height="50px" alt="">
                </div>
            </div>
            <div class="social-icon" onclick="handleSocialLogin('facebook')">
                <div class="">
                    <img class="img2" src="./img/8.png" width="50px" height="50px" alt="">
                </div>
            </div>
            <div class="social-icon" onclick="handleSocialLogin('apple')">
                <div class="">
                    <img class="img2" src="./img/8.png" width="50px" height="50px" alt="">
                </div>
            </div>
        </div>

        <a href="./otp.html">1</a>

        <!-- Ù…ØªÙ† Ø´Ø±Ø§ÛŒØ· Ø§Ø³ØªÙØ§Ø¯Ù‡ -->
        <!-- <div class="terms-text">
            By proceeding, you acknowledge that you have accepted<br>
            Our <a href="#terms">term of use</a> and <a href="#privacy">Privacy policy</a>.
        </div> -->
    </div>

    <script>
        const inputField = document.getElementById('mobilePhone');
        const errorAlert = document.getElementById('errorAlert');
        const signupButton = document.querySelector('.signup-button');

        // Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§
        const iconDefault = document.querySelector('.default-icon');
        const iconFocose = document.querySelector('.focose');
        const iconAlert = document.querySelector('.alert');
        const iconSuccess = document.querySelector('.success');

        // Ø´Ø±ÙˆØ¹: Ø¯Ú©Ù…Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„ Ùˆ Ø¢ÛŒÚ©ÙˆÙ† Ù¾ÛŒØ´â€ŒÙØ±Ø¶ ÙØ¹Ø§Ù„
        signupButton.classList.add('disabled');
        setActiveIcon(iconDefault);

        // ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù¾Ø± Ø¨ÙˆØ¯Ù† ÙÛŒÙ„Ø¯ 
        inputField.addEventListener('input', () => {
            if (inputField.value.trim().length > 0) {
                signupButton.classList.remove('disabled');
            } else {
                signupButton.classList.add('disabled');
            }
        });

        // ÙÙˆÚ©ÙˆØ³ â†’ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¢ÛŒÚ©ÙˆÙ† ÙÙˆÚ©ÙˆØ³
        inputField.addEventListener('focus', () => {
            inputField.classList.remove('error', 'success');
            errorAlert.classList.remove('show');
            setActiveIcon(iconFocose);
        });

        // Ø¨Ù„ÙˆØ± â†’ Ø§Ú¯Ø± Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯ Ø¨Ø±Ú¯Ø±Ø¯ Ø¨Ù‡ Ø­Ø§Ù„Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶
        inputField.addEventListener('blur', () => {
            if (inputField.value.trim().length === 0) {
                setActiveIcon(iconDefault);
            }
        });

        // Ù…Ø¯ÛŒØ±ÛŒØª Ø¢ÛŒÚ©ÙˆÙ† ÙØ¹Ø§Ù„
        function setActiveIcon(icon) {
            [iconDefault, iconFocose, iconAlert, iconSuccess].forEach(ic => ic.style.display = 'none');
            icon.style.display = 'inline';
        }

        // ğŸ“± Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Signup â†’ ÙÙ‚Ø· Ø§ÛŒÙ†â€ŒØ¬Ø§ ÙˆÙ„ÛŒØ¯ÛŒØ´Ù† Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ´Ù‡
        function handleSignup() {
            const phone = inputField.value.replace(/\s/g, '');

            // Ø§Ú¯Ø± Ø¯Ú©Ù…Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„Ù‡ØŒ Ú©Ø§Ø±ÛŒ Ù†Ú©Ù†
            if (signupButton.classList.contains('disabled')) return;

            // Ø­Ø°Ù Ù‡Ù…Ù‡ Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§
            errorAlert.classList.remove('show');
            inputField.classList.remove('error', 'success', 'shake');

            // âœ… Ù…Ù†Ø·Ù‚ ÙˆÙ„ÛŒØ¯ÛŒØ´Ù†:
            if (phone.length === 0) {
                setActiveIcon(iconDefault);
                return;
            }

            if (phone.length < 11) {
                // âŒ Ø®Ø·Ø§
                inputField.classList.add('error', 'shake');
                setActiveIcon(iconAlert);
                errorAlert.classList.add('show');
                setTimeout(() => inputField.classList.remove('shake'), 500);
                return;
            }

            // âœ… Ù…ÙˆÙÙ‚ÛŒØª
            if (phone.length === 11) {
                inputField.classList.add('success');
                inputField.blur(); // â† ÙÙˆÚ©ÙˆØ³ Ø±Ùˆ Ø¨Ø±Ø¯Ø§Ø± ØªØ§ CSS success ØºÙ„Ø¨Ù‡ Ú©Ù†Ù‡
                setActiveIcon(iconSuccess);
                errorAlert.classList.remove('show');
            }

            console.log('âœ… Signup with phone:', phone);
        }


    </script>
    <script>
    function validatePhone() {
        const input = document.getElementById('mobilePhone');
        // ÙÙ‚Ø· Ø§Ø¹Ø¯Ø§Ø¯ Ø±Ùˆ Ù†Ú¯Ù‡â€ŒØ¯Ø§Ø±
        let digits = input.value.replace(/\D/g, '');

        // Ù…Ø­Ø¯ÙˆØ¯ Ø¨Ù‡ 11 Ø±Ù‚Ù… (Ù…Ø«Ù„ Ø´Ù…Ø§Ø±Ù‡â€Œ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø§ÛŒØ±Ø§Ù†)
        digits = digits.substring(0, 11);

        // Ø¬Ø¯Ø§ Ú©Ø±Ø¯Ù† Ø¨Ø§ ÙØ§ØµÙ„Ù‡ Ø¨Ø¹Ø¯ Ø§Ø² 4 Ùˆ 7
        let formatted = digits;
        if (digits.length > 4 && digits.length <= 7) {
            formatted = digits.replace(/(\d{4})(\d+)/, '$1 $2');
        } else if (digits.length > 7) {
            formatted = digits.replace(/(\d{4})(\d{3})(\d+)/, '$1 $2 $3');
        }

        // Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± ÙÛŒÙ„Ø¯
        input.value = formatted;
    }
</script>

</body>

</html>